package com.att.lms.bis.service;

import static io.vavr.API.$;
import static io.vavr.API.Case;
import static io.vavr.API.Match;


import com.att.lms.bis.config.LimLegacyConfig;
import com.att.lms.bis.enumeration.ApropertiesTagLabelName;
import com.att.lms.bis.dto.lim.RetrieveLocationForAddressRequestDto;
import com.att.lms.bis.enumeration.RequestTypes;
import com.att.lms.oauth.config.LmsEdaProducerConsumerConfig;
import com.att.transformation.BaseJUnit5Test;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.node.ArrayNode;
import java.util.Objects;
import java.util.Spliterator;
import java.util.Spliterators;
import java.util.stream.StreamSupport;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.junit.jupiter.MockitoExtension;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Import;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.test.context.TestPropertySource;
import org.springframework.test.context.junit.jupiter.SpringExtension;

/*@ExtendWith(value = {MockitoExtension.class, SpringExtension.class})
@TestPropertySource(locations = {"classpath:application.properties"})
@Import({LimService.class, LimLegacyConfig.class})*/
public class LimBisJsonRequestTest extends BaseJUnit5Test {

  //ObjectMapper objectMapper;

  @Value("${lms.bis.type}")
  String bisType;

  @Value("${lms.bis.requestProperties.path}")
  String requestPropertiesPath;

  @Test
  public void shouldExecuteLimServiceDotRetrieveLocationForAddressBasedOnKafkaRequest() throws Exception {

    /*
    retrieveLocationForAddressRequestDto =RetrieveLocationForAddressRequestDto(aBisContext=BisContext(aProperties=[ObjectProperty(aTag=APPLICATION, aValue=LIM_BIS), ObjectProperty(aTag=CustomerName, aValue=LIM_BIS), ObjectProperty(aTag=METHOD_NAME, aValue=retrieveLocationForAddress), ObjectProperty(aTag=APP_NAME, aValue=LIM_BIS), ObjectProperty(aTag=ServiceCenter, aValue=OH)]), aAddress=Address(___aFieldedAddress=FieldedAddress(aRoute=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBox=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberPrefix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumber=StringOpt(___theValue=1236, __discriminator=true, __uninitialized=false), aAssignedHouseNumber=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetDirection=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetName=StringOpt(___theValue=Jackson, __discriminator=true, __uninitialized=false), aStreetThoroughfare=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetNameSuffix=StringOpt(___theValue=AV, __discriminator=true, __uninitialized=false), aCity=StringOpt(___theValue=LKWD, __discriminator=true, __uninitialized=false), aState=StringOpt(___theValue=OH, __discriminator=true, __uninitialized=false), aPostalCode=StringOpt(___theValue=44107, __discriminator=true, __uninitialized=false), aPostalCodePlus4=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCounty=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountry=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aOriginalStreetDirection=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aOriginalStreetNameSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCassAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAuxiliaryAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCassAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBusinessName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountryCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCityCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aServiceLocationName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAddressId=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAliasName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAttention=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true)), ___aUnfieldedAddress=UnfieldedAddress(aAddressLines=StringSeqOpt(___theValue=[LOVELOCK NV 89419-0147], __discriminator=false, __uninitialized=true), aCity=null, aState=null, aPostalCode=null, aPostalCodePlus4=null, aCounty=null, aCountry=null, aStructureType=null, aStructureValue=null, aLevelType=null, aLevelValue=null, aUnitType=null, aUnitValue=null, aAdditionalInfo=null, aBusinessName=null, aCountryCode=null, aCityCode=null, aServiceLocationName=null, aAddressId=null, aAliasName=null, aAttention=null), __discriminator=AddressChoice(__value=0), __uninitialized=false), aProviderLocationProperties=ProviderLocationPropertiesSeqOpt(___theValue=[ProviderLocationProperties(aProviderName=StringOpt(___theValue=SBC, __discriminator=true, __uninitialized=false), aLocationPropertiesToGet=[ServiceAddress, All])], __discriminator=true, __uninitialized=false), aMaxBasicAddressAlternatives=LongOpt(___theValue=56, __discriminator=true, __uninitialized=false), aMaxLivingUnitAlternatives=LongOpt(___theValue=70, __discriminator=true, __uninitialized=false), aExchangeCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true))
RetrieveLocationForAddressRequestDto(aBisContext=BisContext(aProperties=[ObjectProperty(aTag=APPLICATION, aValue=LIM_BIS), ObjectProperty(aTag=CustomerName, aValue=LIM_BIS), ObjectProperty(aTag=METHOD_NAME, aValue=retrieveLocationForAddress), ObjectProperty(aTag=APP_NAME, aValue=LIM_BIS), ObjectProperty(aTag=ServiceCenter, aValue=OH)]), aAddress=Address(___aFieldedAddress=FieldedAddress(aRoute=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBox=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberPrefix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumber=StringOpt(___theValue=1236, __discriminator=true, __uninitialized=false), aAssignedHouseNumber=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetDirection=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetName=StringOpt(___theValue=Jackson, __discriminator=true, __uninitialized=false), aStreetThoroughfare=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetNameSuffix=StringOpt(___theValue=AV, __discriminator=true, __uninitialized=false), aCity=StringOpt(___theValue=LKWD, __discriminator=true, __uninitialized=false), aState=StringOpt(___theValue=OH, __discriminator=true, __uninitialized=false), aPostalCode=StringOpt(___theValue=44107, __discriminator=true, __uninitialized=false), aPostalCodePlus4=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCounty=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountry=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aOriginalStreetDirection=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aOriginalStreetNameSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCassAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAuxiliaryAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCassAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBusinessName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountryCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCityCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aServiceLocationName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAddressId=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAliasName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAttention=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true)), ___aUnfieldedAddress=UnfieldedAddress(aAddressLines=StringSeqOpt(___theValue=[LOVELOCK NV 89419-0147], __discriminator=false, __uninitialized=true), aCity=null, aState=null, aPostalCode=null, aPostalCodePlus4=null, aCounty=null, aCountry=null, aStructureType=null, aStructureValue=null, aLevelType=null, aLevelValue=null, aUnitType=null, aUnitValue=null, aAdditionalInfo=null, aBusinessName=null, aCountryCode=null, aCityCode=null, aServiceLocationName=null, aAddressId=null, aAliasName=null, aAttention=null), __discriminator=AddressChoice(__value=0), __uninitialized=false), aProviderLocationProperties=ProviderLocationPropertiesSeqOpt(___theValue=[ProviderLocationProperties(aProviderName=StringOpt(___theValue=SBC, __discriminator=true, __uninitialized=false), aLocationPropertiesToGet=[ServiceAddress, All])], __discriminator=true, __uninitialized=false), aMaxBasicAddressAlternatives=LongOpt(___theValue=56, __discriminator=true, __uninitialized=false), aMaxLivingUnitAlternatives=LongOpt(___theValue=70, __discriminator=true, __uninitialized=false), aExchangeCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true))
2022-07-07T06:18:31,471+00:00|MessageLevel:1|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.getRMIConnection() - ConnectionException; Ensure RMI Registry and LogAgent are running for system:LIM13.60|java.rmi.ConnectException: Connection refused to host: 130.10.236.134; nested exception is:
	java.net.ConnectException: Connection refused: connect
2022-07-07T06:18:31,483+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:18:31,483+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717469614967300001|corrseqno:2|msgtype:DEBUG_LEVEL_2||(LogEventId=DEBUG_LEVEL_2)(LogMessage=Loaded 254 zip to saga mappings)
2022-07-07T06:18:31,483+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:18:31,483+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:1|msgtype:START||(LogEventId=START)(LogMessage=)
2022-07-07T06:18:31,484+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:18:31,484+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:2|msgtype:ENTRY||(OPERATION=++++++++++++++++++++ LIM Facade - retrieveLocationForAddress ++++++++++++++++++++)
2022-07-07T06:18:31,484+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:18:31,484+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:3|msgtype:AUDIT_TRAIL||(LogEventId=AUDIT_TRAIL)(LogMessage=LimBean::retrieveLocationForAddress&#40;&#41;&#124;RetrieveLocationForAddressTrans::execute&#40;&#41;&#124;PRE)
2022-07-07T06:18:55,113+00:00|MessageLevel:1|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.getRMIConnection() - ConnectionException; Ensure RMI Registry and LogAgent are running for system:LIM13.60|java.rmi.ConnectException: Connection refused to host: 130.10.236.134; nested exception is:
	java.net.ConnectException: Connection refused: connect
2022-07-07T06:18:55,114+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:18:53,086+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:4|msgtype:AUDIT_TRAIL||(LogEventId=AUDIT_TRAIL)(LogMessage=OVALS::retrieveLocationForAddress&#40;&#41;&#124;OVALS::doAddressValidation&#40;&#41;&#124;PRE)
2022-07-07T06:19:41,730+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:19:41,729+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:6|msgtype:AUDIT_TRAIL||(LogEventId=AUDIT_TRAIL)(LogMessage=LimBean::retrieveLocationForAddress&#40;&#41;&#124;RetrieveLocationForAddressTrans::execute&#40;&#41;&#124;POST)
2022-07-07T06:19:41,731+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:19:41,730+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:7|msgtype:EXIT||(OPERATION=++++++++++++++++++++ LIM Facade - retrieveLocationForAddress ++++++++++++++++++++)
2022-07-07T06:19:41,732+00:00|MessageLevel:0|logapi,LIM13.60,13.60.13|GACDTL01DB737H|db737h|LogAssistantImpl.log(Message) Exception|LoggingError, Connection to LIM13.60 LogAgent down; SalvageMessage: logtime:2022-07-07T06:19:41,731+00:00|system:LIM13.60|subsystem:13.60.13|hostname:GACDTL01DB737H|userid:db737h|appkey:|correlationid:LIM13.60GACDTL01DB737H165717471148253800001|corrseqno:8|msgtype:END||(LogEventId=END)(LogMessage=)
2022-07-07 02:19:43.234 | INFO | c.a.l.b.s.LimService:128 | main | system=OpXTestRunner | operation= | correlation= | operation lambda$retrieveLocationForAddress$8 succeeded with value RetrieveLocationForAddressReturn(aContext=BisContext(aProperties=[ObjectProperty(aTag=APPLICATION, aValue=LIM_BIS)]), aAddressMatchResult=AddressMatchResult(___aLocation=Location(aLocationId=StringOpt(___theValue=00000XPFSE, __discriminator=true, __uninitialized=false), aProviderLocationProperties=[ProviderLocationProperty(aProviderName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPostalAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aServiceAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aE911Address=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aSwitchSuperPopAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aAddressMatchCode=StringOpt(___theValue=SA0, __discriminator=true, __uninitialized=false), aAddressMatchCodeDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCoSwitchSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCentralOfficeCode=StringOpt(___theValue=52X, __discriminator=true, __uninitialized=false), aCentralOfficeType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCommunityName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aDomSwitchPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911Exempt=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911NonRecurringCharge=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911Surcharge=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExchangeCode=StringOpt(___theValue=CLEV, __discriminator=true, __uninitialized=false), aExco=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aGeoCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHorizontalCoordinate=StringOpt(___theValue=02557, __discriminator=true, __uninitialized=false), aLataCode=StringOpt(___theValue=320, __discriminator=true, __uninitialized=false), aLataName=StringOpt(___theValue=320, __discriminator=true, __uninitialized=false), aLatitude=StringOpt(___theValue=41.489736, __discriminator=true, __uninitialized=false), aLongitude=StringOpt(___theValue=-81.785639, __discriminator=true, __uninitialized=false), aLocalProviderAbbreviatedName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocalProviderExchangeCode=StringOpt(___theValue=216221, __discriminator=true, __uninitialized=false), aLocalProviderName=StringOpt(___theValue=AMERITECH OHIO, __discriminator=true, __uninitialized=false), aLocalProviderNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocalProviderServingOfficeCode=StringOpt(___theValue=216521, __discriminator=true, __uninitialized=false), aMailingBarCodeSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aMsaCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aMsaName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestDistanceColoToCo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestDistanceSuperPopToCo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcColo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcCoSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcCoWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOwnedWiring=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPostalCarrierCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPrimaryDirectoryCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPrimaryNpaNxx=StringOpt(___theValue=216221, __discriminator=true, __uninitialized=false), aQuickDialTone=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aQuickDialToneNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aRateCenterCode=StringOpt(___theValue=CLEVELAND, __discriminator=true, __uninitialized=false), aRateZone=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aRateZoneBandCode=StringOpt(___theValue=510, __discriminator=true, __uninitialized=false), aSagNpa=StringOpt(___theValue=216, __discriminator=true, __uninitialized=false), aSagWireCenter=StringOpt(___theValue=30, __discriminator=true, __uninitialized=false), aSbcColoLsoCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcColoWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcServingOfficeCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcServingOfficeWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServingAreaDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetAddressGuideArea=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSurcharge4Percent=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSurcharge16Percent=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSwitchDataSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSwitchVoiceSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aTarCode=StringOpt(___theValue=0018, __discriminator=true, __uninitialized=false), aTelephoneNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aVerticalCoordinate=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aWorkingServiceOnLocation=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aEcktId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCustomerPremiseIndicator=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSAGAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aBuildingType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLegalEntity=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aVideoHubOffice=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aSmartmoves=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServingNetworkType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocationType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCityStatePostalCodeValid=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPublicSafetyAnsweringPointId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCountyId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExceptionCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExceptionDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExtensions=ExtensionPropertySeqOpt(___theValue=[ExtensionProperty(aId=null, aValue=null)], __discriminator=true, __uninitialized=false))]), ___aAlternativeAddressResult=AlternativeAddressResult(aAlternativeAddresses=AlternativeAddressSeqOpt(___theValue=[AlternativeAddress(___aAddress=Address(___aFieldedAddress=FieldedAddress(aRoute=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aBox=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumberPrefix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumber=StringOpt(___theValue=1236, __discriminator=true, __uninitialized=false), aAssignedHouseNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumberSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetDirection=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetName=StringOpt(___theValue=JACKSON, __discriminator=true, __uninitialized=false), aStreetThoroughfare=StringOpt(___theValue=AV, __discriminator=true, __uninitialized=false), aStreetNameSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCity=StringOpt(___theValue=LAKEWOOD, __discriminator=true, __uninitialized=false), aState=StringOpt(___theValue=OH, __discriminator=true, __uninitialized=false), aPostalCode=StringOpt(___theValue=44107, __discriminator=true, __uninitialized=false), aPostalCodePlus4=StringOpt(___theValue=2725, __discriminator=true, __uninitialized=false), aCounty=StringOpt(___theValue=CUYA, __discriminator=true, __uninitialized=false), aCountry=StringOpt(___theValue=USA, __discriminator=true, __uninitialized=false), aStructureType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStructureValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLevelType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLevelValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aUnitType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aUnitValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOriginalStreetDirection=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOriginalStreetNameSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCassAddressLines=StringSeqOpt(___theValue=[], __discriminator=true, __uninitialized=false), aAuxiliaryAddressLines=StringSeqOpt(___theValue=[], __discriminator=true, __uninitialized=false), aCassAdditionalInfo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aBusinessName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCountryCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCityCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServiceLocationName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAddressId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAliasName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAttention=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false)), ___aUnfieldedAddress=UnfieldedAddress(aAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCity=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aState=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCodePlus4=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCounty=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountry=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBusinessName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountryCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCityCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aServiceLocationName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAddressId=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAliasName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAttention=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true)), __discriminator=AddressChoice(__value=1), __uninitialized=false), ___aRangedAddress=RangedAddress(aHouseNumberLow=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberHigh=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberPrefix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberPrefixHigh=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aHouseNumberSuffixHigh=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetDirection=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetThoroughfare=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStreetNameSuffix=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCity=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aState=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCodePlus4=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCounty=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountry=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true)), ___aLocation=Location(aLocationId=StringOpt(___theValue=00000XPFSE, __discriminator=true, __uninitialized=false), aProviderLocationProperties=[ProviderLocationProperty(aProviderName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPostalAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aServiceAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aE911Address=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aSwitchSuperPopAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aAddressMatchCode=StringOpt(___theValue=SA0, __discriminator=true, __uninitialized=false), aAddressMatchCodeDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCoSwitchSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCentralOfficeCode=StringOpt(___theValue=52X, __discriminator=true, __uninitialized=false), aCentralOfficeType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCommunityName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aDomSwitchPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911Exempt=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911NonRecurringCharge=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aE911Surcharge=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExchangeCode=StringOpt(___theValue=CLEV, __discriminator=true, __uninitialized=false), aExco=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aGeoCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHorizontalCoordinate=StringOpt(___theValue=02557, __discriminator=true, __uninitialized=false), aLataCode=StringOpt(___theValue=320, __discriminator=true, __uninitialized=false), aLataName=StringOpt(___theValue=320, __discriminator=true, __uninitialized=false), aLatitude=StringOpt(___theValue=41.489736, __discriminator=true, __uninitialized=false), aLongitude=StringOpt(___theValue=-81.785639, __discriminator=true, __uninitialized=false), aLocalProviderAbbreviatedName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocalProviderExchangeCode=StringOpt(___theValue=216221, __discriminator=true, __uninitialized=false), aLocalProviderName=StringOpt(___theValue=AMERITECH OHIO, __discriminator=true, __uninitialized=false), aLocalProviderNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocalProviderServingOfficeCode=StringOpt(___theValue=216521, __discriminator=true, __uninitialized=false), aMailingBarCodeSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aMsaCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aMsaName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestDistanceColoToCo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestDistanceSuperPopToCo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcColo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcCoSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aNearestSbcCoWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOwnedWiring=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPostalCarrierCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPrimaryDirectoryCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPrimaryNpaNxx=StringOpt(___theValue=216221, __discriminator=true, __uninitialized=false), aQuickDialTone=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aQuickDialToneNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aRateCenterCode=StringOpt(___theValue=CLEVELAND, __discriminator=true, __uninitialized=false), aRateZone=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aRateZoneBandCode=StringOpt(___theValue=510, __discriminator=true, __uninitialized=false), aSagNpa=StringOpt(___theValue=216, __discriminator=true, __uninitialized=false), aSagWireCenter=StringOpt(___theValue=30, __discriminator=true, __uninitialized=false), aSbcColoLsoCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcColoWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcServingOfficeCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSbcServingOfficeWirecenter=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServingAreaDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetAddressGuideArea=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSurcharge4Percent=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSurcharge16Percent=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSwitchDataSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSwitchVoiceSuperPop=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aTarCode=StringOpt(___theValue=0018, __discriminator=true, __uninitialized=false), aTelephoneNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aVerticalCoordinate=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aWorkingServiceOnLocation=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aEcktId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCustomerPremiseIndicator=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aSAGAddress=AddressOpt(___theValue=Address(___aFieldedAddress=null, ___aUnfieldedAddress=null, __discriminator=null, __uninitialized=true), __discriminator=true, __uninitialized=false), aBuildingType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLegalEntity=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aVideoHubOffice=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aSmartmoves=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServingNetworkType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLocationType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCityStatePostalCodeValid=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aPublicSafetyAnsweringPointId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCountyId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExceptionCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExceptionDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aExtensions=ExtensionPropertySeqOpt(___theValue=[ExtensionProperty(aId=null, aValue=null)], __discriminator=true, __uninitialized=false))]), __discriminator=AlternativeAddressChoice(__value=2), __uninitialized=false)], __discriminator=true, __uninitialized=false), aSubmittedAddressExceptions=SubmittedAddressExceptionSeqOpt(___theValue=[SubmittedAddressException(aAddress=Address(___aFieldedAddress=FieldedAddress(aRoute=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aBox=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumberPrefix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumber=StringOpt(___theValue=1236, __discriminator=true, __uninitialized=false), aAssignedHouseNumber=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aHouseNumberSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetDirection=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStreetName=StringOpt(___theValue=JACKSON, __discriminator=true, __uninitialized=false), aStreetThoroughfare=StringOpt(___theValue=AV, __discriminator=true, __uninitialized=false), aStreetNameSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCity=StringOpt(___theValue=LAKEWOOD, __discriminator=true, __uninitialized=false), aState=StringOpt(___theValue=OH, __discriminator=true, __uninitialized=false), aPostalCode=StringOpt(___theValue=44107, __discriminator=true, __uninitialized=false), aPostalCodePlus4=StringOpt(___theValue=2725, __discriminator=true, __uninitialized=false), aCounty=StringOpt(___theValue=CUYA, __discriminator=true, __uninitialized=false), aCountry=StringOpt(___theValue=USA, __discriminator=true, __uninitialized=false), aStructureType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aStructureValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLevelType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aLevelValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aUnitType=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aUnitValue=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOriginalStreetDirection=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aOriginalStreetNameSuffix=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCassAddressLines=StringSeqOpt(___theValue=[], __discriminator=true, __uninitialized=false), aAuxiliaryAddressLines=StringSeqOpt(___theValue=[], __discriminator=true, __uninitialized=false), aCassAdditionalInfo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aBusinessName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCountryCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aCityCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aServiceLocationName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAddressId=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAliasName=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aAttention=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false)), ___aUnfieldedAddress=UnfieldedAddress(aAddressLines=StringSeqOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCity=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aState=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aPostalCodePlus4=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCounty=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountry=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aStructureValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aLevelValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitType=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aUnitValue=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAdditionalInfo=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aBusinessName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCountryCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aCityCode=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aServiceLocationName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAddressId=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAliasName=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true), aAttention=StringOpt(___theValue=null, __discriminator=false, __uninitialized=true)), __discriminator=AddressChoice(__value=1), __uninitialized=false), aCode=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false), aDescription=StringOpt(___theValue=null, __discriminator=true, __uninitialized=false))], __discriminator=true, __uninitialized=false)), __discriminator=AddressMatchResultChoice(__value=1), __uninitialized=false)) |
appName ->LIM_BIS
methodNameNode ->
bisType =LIM_BIS
     */

    String RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON =
//                "{\"aBisContext\":{\"aProperties\":[{\"aTag\":\"Application\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"METHOD_NAME\",\"aValue\":\"retrieveLocationForAddress\"},{\"aTag\":\"APP_NAME\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"CustomerName\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"ServiceCenter\",\"aValue\":\"OH\"}]},\"aAddress\":{\"___aFieldedAddress\":{\"aRoute\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aBox\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aHouseNumberPrefix\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aHouseNumber\":{\"___theValue\":\"1236\",\"__discriminator\":true,\"__uninitialized\":false},\"aAssignedHouseNumber\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aHouseNumberSuffix\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aStreetDirection\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aStreetName\":{\"___theValue\":\"Jackson\",\"__discriminator\":true,\"__uninitialized\":false},\"aStreetThoroughfare\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aStreetNameSuffix\":{\"___theValue\":\"AV\",\"__discriminator\":true,\"__uninitialized\":false},\"aCity\":{\"___theValue\":\"LKWD\",\"__discriminator\":true,\"__uninitialized\":false},\"aState\":{\"___theValue\":\"OH\",\"__discriminator\":true,\"__uninitialized\":false},\"aPostalCode\":{\"___theValue\":\"44107\",\"__discriminator\":true,\"__uninitialized\":false},\"aPostalCodePlus4\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCounty\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCountry\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aStructureType\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aStructureValue\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aLevelType\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aLevelValue\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aUnitType\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aUnitValue\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aOriginalStreetDirection\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aOriginalStreetNameSuffix\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCassAddressLines\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAuxiliaryAddressLines\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCassAdditionalInfo\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAdditionalInfo\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aBusinessName\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCountryCode\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aCityCode\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aServiceLocationName\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAddressId\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAliasName\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAttention\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true}},\"___aUnfieldedAddress\":{\"aAddressLines\":{\"___theValue\":[\"LOVELOCK NV 89419-0147\"],\"__discriminator\":false,\"__uninitialized\":true}},\"__discriminator\":{\"__value\":0},\"__uninitialized\":false},\"aProviderLocationProperties\":{\"___theValue\":[{\"aProviderName\":{\"___theValue\":\"SBC\",\"__discriminator\":true,\"__uninitialized\":false},\"aLocationPropertiesToGet\":[\"ServiceAddress\",\"All\"]}],\"__discriminator\":true,\"__uninitialized\":false},\"aMaxBasicAddressAlternatives\":{\"___theValue\":56,\"__discriminator\":true,\"__uninitialized\":false},\"aMaxLivingUnitAlternatives\":{\"___theValue\":70,\"__discriminator\":true,\"__uninitialized\":false},\"aExchangeCode\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true}}";
            "{\"aBisContext\":{\"aProperties\":[{\"aTag\":\"Application\",\"aValue\":\"SORD\"},{\"aTag\":\"BusinessUnit\",\"aValue\":\"SBCWest\"},{\"aTag\":\"CustomerName\",\"aValue\":\"EWBAV\"},{\"aTag\":\"METHOD_NAME\",\"aValue\":\"retrieveLocationForAddress\"},{\"aTag\":\"APP_NAME\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"ServiceCenter\",\"aValue\":\"CA-S\"},{\"aTag\":\"MaxCassCharPerLine\",\"aValue\":\"28\"},{\"aTag\":\"ServiceOrderNumber\",\"aValue\":\"N22000838 \"}]},\"aAddress\":{\"___aUnfieldedAddress\":{\"aAddressLines\":{\"___theValue\":[\"TIME CLOCK SOLUTIONS LLC;\",          \"PO BOX 1147;                          \",          \"                   \",          \"                             \",\"HOLLAND OH 43528;        \"],\"__discriminator\":true,\"__uninitialized\":false}},\"__discriminator\":{\"__value\":1},\"__uninitialized\":false},\"aProviderLocationProperties\":{\"___theValue\":[{\"aProviderName\":{\"___theValue\":\"DataServices\",\"__discriminator\":true,\"__uninitialized\":false},\"aLocationPropertiesToGet\":[\"PostalAddress\",\"All\"]}],\"__discriminator\":true,\"__uninitialized\":false},\"aMaxBasicAddressAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false},\"aMaxLivingUnitAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false}}";

/*
1.
 */
/*
    String RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON =
        "{\"aBisContext\":{\"aProperties\":[{\"aTag\":\"Application\",\"aValue\":\"SORD\"},{\"aTag\":\"BusinessUnit\",\"aValue\":\"SBCWest\"},{\"aTag\":\"CustomerName\",\"aValue\":\"EWBAV\"},{\"aTag\":\"METHOD_NAME\",\"aValue\":\"retrieveLocationForAddress\"},{\"aTag\":\"APP_NAME\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"ServiceCenter\",\"aValue\":\"NV\"},{\"aTag\":\"MaxCassCharPerLine\",\"aValue\":\"28\"},{\"aTag\":\"ServiceOrderNumber\",\"aValue\":\"N22000838 \"}]},\"aAddress\":{\"___aUnfieldedAddress\":{\"aCity\":{\"___theValue\":\"LOVELOCK\",\"__discriminator\":true,\"__uninitialized\":false},\"aState\":{\"___theValue\":\"NV\",\"__discriminator\":true,\"__uninitialized\":false},\"aPostalCode\":{\"___theValue\":\"89419\",\"__discriminator\":true,\"__uninitialized\":false},\"aPostalCodePlus4\":{\"___theValue\":\"0147\",\"__discriminator\":true,\"__uninitialized\":true},\"aCounty\":{\"___theValue\":\"Pershing\",\"__discriminator\":false,\"__uninitialized\":true},\"aCountry\":{\"___theValue\":null,\"__discriminator\":false,\"__uninitialized\":true},\"aAddressLines\":{\"___theValue\":[\"PERSHING CO SO AT             \",          \"PSAP                          \",          \"PO BOX 147                    \",          \"                             \",\"LOVELOCK NV 89419-0147        \"],\"__discriminator\":false,\"__uninitialized\":false}},\"__discriminator\":{\"__value\":1},\"__uninitialized\":false},\"aProviderLocationProperties\":{\"___theValue\":[{\"aProviderName\":{\"___theValue\":\"DataServices\",\"__discriminator\":true,\"__uninitialized\":false},\"aLocationPropertiesToGet\":[\"ServiceAddress\",\"All\"]}],\"__discriminator\":true,\"__uninitialized\":false},\"aMaxBasicAddressAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false},\"aMaxLivingUnitAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false}}";
*/


//    String RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON =
//        "{\"aBisContext\":{\"aProperties\":[{\"aTag\":\"Application\",\"aValue\":\"SORD\"},{\"aTag\":\"BusinessUnit\",\"aValue\":\"SBCWest\"},{\"aTag\":\"CustomerName\",\"aValue\":\"EWBAV\"},{\"aTag\":\"METHOD_NAME\",\"aValue\":\"retrieveLocationForAddress\"},{\"aTag\":\"APP_NAME\",\"aValue\":\"LIM_BIS\"},{\"aTag\":\"ServiceCenter\",\"aValue\":\"CA-N\"},{\"aTag\":\"MaxCassCharPerLine\",\"aValue\":\"28\"},{\"aTag\":\"ServiceOrderNumber\",\"aValue\":\"N22000838 \"}]},\"aAddress\":{\"___aUnfieldedAddress\":{\"aAddressLines\":{\"___theValue\":[\"PERSHING CO SO AT             \",\"PSAP                          \",\"PO BOX 147                    \",\"                             \",\"LOVELOCK, NV 89419-0147        \"],\"__discriminator\":true,\"__uninitialized\":false}},\"__discriminator\":{\"__value\":1},\"__uninitialized\":false},\"aProviderLocationProperties\":{\"___theValue\":[{\"aProviderName\":{\"___theValue\":\"DataServices\",\"__discriminator\":true,\"__uninitialized\":false},\"aLocationPropertiesToGet\":[\"ServiceAddress\",\"All\"]}],\"__discriminator\":true,\"__uninitialized\":false},\"aMaxBasicAddressAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false},\"aMaxLivingUnitAlternatives\":{\"___theValue\":20,\"__discriminator\":true,\"__uninitialized\":false}}";


//    "{" +
//            "  \"aBisContext\": {" +
//            "    \"aProperties\": [" +
//            "      {" +
//            "        \"aTag\": \"Application\"," +
//            "        \"aValue\": \"SORD\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"BusinessUnit\"," +
//            "        \"aValue\": \"SBCWest\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"CustomerName\"," +
//            "        \"aValue\": \"EWBAV\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"METHOD_NAME\"," +
//            "        \"aValue\": \"retrieveLocationForAddress\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"APP_NAME\"," +
//            "        \"aValue\": \"LIM_BIS\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"ServiceCenter\"," +
//            "        \"aValue\": \"CA-N\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"MaxCassCharPerLine\"," +
//            "        \"aValue\": \"28\"" +
//            "      }," +
//            "      {" +
//            "        \"aTag\": \"ServiceOrderNumber\"," +
//            "        \"aValue\": \"N22000838 \"" +
//            "      }" +
//            "    ]" +
//            "  }," +
//            "  \"aAddress\": {" +
//            "    \"___aUnfieldedAddress\": {" +
//            "      \"aAddressLines\": {" +
//            "        \"___theValue\": [" +
//            "          \"PERSHING CO SO AT             \"," +
//            "          \"PSAP                          \"," +
//            "          \"PO BOX 147                    \"," +
//            "          \"                             \"," +
//            "          \"LOVELOCK NV 89419-0147        \"" +
//            "        ]," +
//            "        \"__discriminator\": false," +
//            "        \"__uninitialized\": true" +
//            "      }" +
//            "    }" +
//            "  }," +
//            "  \"aProviderLocationProperties\": {" +
//            "    \"___theValue\": [" +
//            "      {" +
//            "        \"aProviderName\": {" +
//            "          \"___theValue\": \"DataServices\"," +
//            "          \"__discriminator\": true," +
//            "          \"__uninitialized\": false" +
//            "        }," +
//            "        \"aLocationPropertiesToGet\": [" +
//            "          \"ServiceAddress\"," +
//            "          \"All\"" +
//            "        ]" +
//            "      }" +
//            "    ]," +
//            "    \"__discriminator\": true," +
//            "    \"__uninitialized\": false" +
//            "  }," +
//            "  \"aMaxBasicAddressAlternatives\": {" +
//            "    \"___theValue\": 20," +
//            "    \"__discriminator\": true," +
//            "    \"__uninitialized\": false" +
//            "  }," +
//            "  \"aMaxLivingUnitAlternatives\": {" +
//            "    \"___theValue\": 20," +
//            "    \"__discriminator\": true," +
//            "    \"__uninitialized\": false" +
//            "  }" +
//            "}";

    RetrieveLocationForAddressRequestDto retrieveLocationForAddressRequestDto = objectMapper
        .readValue(RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON,
            RetrieveLocationForAddressRequestDto.class);

    System.out.println("retrieveLocationForAddressRequestDto =" + retrieveLocationForAddressRequestDto);

    JsonNode rootTree = new ObjectMapper().readTree(RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON);

    ArrayNode aPropertiesMap = (ArrayNode) rootTree.at(requestPropertiesPath);

    String appName = null;

    String methodName = null;

    if (aPropertiesMap == null || aPropertiesMap.isEmpty()) {
      //error
    } else {
      if(aPropertiesMap.findValues("aValue").stream().filter( aProperty -> aProperty.textValue().equals(bisType)).map(limBisJsonNode -> limBisJsonNode.textValue()).findFirst().isPresent()){
        appName = aPropertiesMap.findValues("aValue").stream().filter( aProperty -> aProperty.textValue().equals(bisType)).map(limBisJsonNode -> limBisJsonNode.textValue()).findFirst().get();
      }
      else{
        //throw illegalArgumentException for missing appName value
        throw new IllegalArgumentException("Request is missing required property APP_NAME");
      }

      //check if the methodName property is present
      if(StreamSupport.stream(Spliterators.spliteratorUnknownSize(aPropertiesMap.elements(), Spliterator.ORDERED), false).filter(objectNode -> objectNode.get("aTag").textValue().equals("METHOD_NAME")).findFirst().isPresent()){

        methodName = StreamSupport.stream(Spliterators.spliteratorUnknownSize(aPropertiesMap.elements(), Spliterator.ORDERED), false).filter(objectNode -> objectNode.get("aTag").textValue().equals("METHOD_NAME")).findFirst().get().findValue("aValue").textValue();

        System.out.println(objectMapper.readValue(RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON, RequestTypes.fromPropertyName(methodName).getClazz()));

        RequestTypes.fromPropertyName(methodName).getFunction().apply(objectMapper.readValue(RETRIEVE_LOCATION_FOR_ADDRESS_REQUEST_JSON, RequestTypes.fromPropertyName(methodName).getClazz()));

      }
      else{
        //throw illegalArgumentException for missing methodName value
        throw new IllegalArgumentException("Request is missing required property METHOD_NAME");
      }

    }

    //JsonNode appNameNode = rootTree.at("/aBisContext/aProperties));

    JsonNode methodNameNode = rootTree.at("/" + ApropertiesTagLabelName.METHOD_NAME.name());

    System.out.println("appName ->" + appName);

    System.out.println("methodName ->" + methodName);

    System.out.println("bisType ="+bisType);

  }

/*  @BeforeEach
  public void setup() throws Exception {
    objectMapper = new ObjectMapper();
    objectMapper
        .setSerializationInclusion(com.fasterxml.jackson.annotation.JsonInclude.Include.ALWAYS);
*//*        objectMapper.registerModule(new VavrModule());
        objectMapper.registerModule(new JavaTimeModule()).configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
        objectMapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, false);
        objectMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);
        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);*//*
  }*/


}
